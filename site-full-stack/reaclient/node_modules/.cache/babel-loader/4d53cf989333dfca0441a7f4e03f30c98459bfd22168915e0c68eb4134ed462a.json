{"ast":null,"code":"import{useMemo,useRef,useState}from\"react\";import{useAppContext}from\"../context\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Layout(_ref){let{children}=_ref;const{addPost}=useAppContext();const[post,setPost]=useState({title:null,content:null});const inputRef=useRef();const textRef=useRef();const[isCollapsed,collapse]=useState(false);const toggleVisibility=()=>collapse(!isCollapsed);const handleOnChange=e=>{setPost({...post,[e.target.name]:e.target.value});};const handleOnSubmit=e=>{e.preventDefault();addPost(post);setPost({title:null,content:null});inputRef.current.value=null;textRef.current.value=null;toggleVisibility(false);};const isValid=useMemo(()=>{return Object.values(post).some(value=>!value);},[post]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light fixed-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand text-primary\",href:\"/\",children:\"Fullstack M.E.R.N\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0 ml-auto\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control me-2\",type:\"search\",placeholder:\"Search\",\"aria-label\":\"Search\",onChange:handleOnChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",type:\"submit\",children:\"Search\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark float-end\",onClick:toggleVisibility,children:isCollapsed?'Close':'Add +'}),isCollapsed&&/*#__PURE__*/_jsxs(\"form\",{className:\"mt-5\",onSubmit:handleOnSubmit,children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",name:\"title\",className:\"form-control mb-3\",id:\"exampleInputEmail1\",onChange:handleOnChange,\"aria-describedby\":\"emailHelp\",placeholder:\"title\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:textRef,name:\"content\",rows:\"4\",className:\"form-control mb-3\",onChange:handleOnChange,placeholder:\"content\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mb-5 float-end\",disabled:isValid,children:\"Submit\"})]}),children]})]});}","map":{"version":3,"names":["useMemo","useRef","useState","useAppContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Layout","_ref","children","addPost","post","setPost","title","content","inputRef","textRef","isCollapsed","collapse","toggleVisibility","handleOnChange","e","target","name","value","handleOnSubmit","preventDefault","current","isValid","Object","values","some","className","href","type","id","placeholder","onChange","onClick","onSubmit","ref","rows","disabled"],"sources":["C:/Users/HP/Documents/Apprend_programmation_dossier/React_full_stack_site/site-full-stack/reaclient/src/components/Layout.js"],"sourcesContent":["import { useMemo, useRef, useState } from \"react\";\r\nimport { useAppContext } from \"../context\"\r\n\r\nexport default function Layout({ children}) {\r\n    const { addPost } = useAppContext(); \r\n    const [post, setPost] = useState({title: null, content: null})\r\n\r\n    const inputRef = useRef()\r\n    const textRef = useRef()\r\n    const [isCollapsed, collapse] = useState(false)\r\n  \r\n    const toggleVisibility = () => collapse(!isCollapsed);\r\n    const handleOnChange = e => {\r\n        setPost({...post, [e.target.name]: e.target.value})\r\n    }\r\n    const handleOnSubmit = e => {\r\n        e.preventDefault();\r\n        addPost(post)\r\n        setPost({title: null, content: null})\r\n        inputRef.current.value= null;\r\n        textRef.current.value= null;\r\n        toggleVisibility(false)\r\n    }\r\n\r\n    const isValid = useMemo(() => {\r\n        return Object.values(post).some(value => !value);\r\n    }, [post])\r\n    return(\r\n    <>\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light fixed-top\">\r\n            <div className=\"container-fluid\">\r\n                <a className=\"navbar-brand text-primary\" href=\"/\">Fullstack M.E.R.N</a>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                <ul className=\"navbar-nav me-auto mb-2 mb-lg-0 ml-auto\"> \r\n                </ul>\r\n                    <form className=\"d-flex\">\r\n                        <input className=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" onChange={handleOnChange} />\r\n                        <button className=\"btn btn-outline-primary\" type=\"submit\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            </nav>\r\n            <div className=\"layout\">\r\n            <button className=\"btn btn-dark float-end\" onClick={toggleVisibility}>{isCollapsed ? 'Close' : 'Add +'}</button>\r\n            {isCollapsed && \r\n            <form className=\"mt-5\" onSubmit={handleOnSubmit}>\r\n                <input ref={inputRef} type=\"text\" name=\"title\" className=\"form-control mb-3\" id=\"exampleInputEmail1\" onChange={handleOnChange} aria-describedby=\"emailHelp\" placeholder=\"title\" />\r\n                <textarea ref={textRef} name=\"content\" rows=\"4\"  className=\"form-control mb-3\" onChange={handleOnChange} placeholder=\"content\"></textarea>\r\n                <button type=\"submit\" className=\"btn btn-primary mb-5 float-end\" disabled={isValid}>Submit</button>\r\n            </form>}\r\n                {children}\r\n            </div>\r\n        </>   \r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}